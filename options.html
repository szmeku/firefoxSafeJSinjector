<!doctype html>
<html>

<head>
    <title>Safe JS Injector</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="js/options.js"></script>
    <script>
       function codeForm(){
          return document.querySelector("#code");
       }

       function saveCode(){
            browser.storage.sync.set({code: codeForm().value}, () => alert('code saved!');
       }
    </script>
</head>

<body>

    <textarea id="code" cols="30" rows="10"></textarea>

    <button onclick="saveCode()">Save</button>

    <script>
        browser.storage.sync.get({code: ''}, response =>{
            codeForm().value = response.code;
        })
    </script>

</body>
</html>
